<!DOCTYPE html>
<html>
    <meta name="theme-color" content="#2c3e50">

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tomorrowland Radio</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Portfolio of Jeroen Mols, the Android developer you should hire.">
    <link rel="canonical" href="jeroenmols.github.io/portfolio/2013/12/10/tomorrowlandradio/">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

    <!-- Custom CSS & Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link rel="stylesheet" href="/style.css">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
    <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Icons -->
    <link rel="favicon-144-precomposed" sizes="144x144" href="/public/favicon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63356566-1', 'auto');
  ga('send', 'pageview');

</script>
    
    <body id="page-top" class="index">
       <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Jeroen Mols</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="/blog">Blog</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#about">About</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#portfolio">Portfolio</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

        <!-- Header -->
    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" src="img/profile.png" alt="">
                    <div class="intro-text">
                        <span class="name">Jeroen Mols</span>
                        <hr class="star-light">
                        <span class="skills">Android Developer</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Blog Section -->
    <section id="blog">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Recent blogposts</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">      			
					<div class="row">
					
						
							<div class="col-lg-6">
								<div class="post">
									</br>

									
									<div class="blogpost-overlay-header" style="background-image: url(/img/blog/wagongit/wagongit.png)">
									<div class="blogpost-overlay-header-title">
									  

									<h1 class="blogpost-title">
									  <a href="/blog/2016/02/05/wagongit/">
									Git as a secure private Maven repository
									  </a>
									</h1>

									<span class="blogpost-date">05 Feb 2016</span>

									
									</div>
									</div>
									

								</div>
							</div>

						
						 
					
						
							<div class="col-lg-6">
								<div class="post">
									</br>

									
									<div class="blogpost-overlay-header" style="background-image: url(/img/blog/yearinreview15/yearinreview15.png)">
									<div class="blogpost-overlay-header-title">
									  

									<h1 class="blogpost-title">
									  <a href="/blog/2016/01/29/yearinreview/">
									Year in review 2015
									  </a>
									</h1>

									<span class="blogpost-date">29 Jan 2016</span>

									
									</div>
									</div>
									

								</div>
							</div>

						
						 
					
						
							<div class="col-lg-6">
								<div class="post">
									</br>

									
									<div class="blogpost-overlay-header" style="background-image: url(/img/blog/traviscoveralls/traviscoveralls.png)">
									<div class="blogpost-overlay-header-title">
									  

									<h1 class="blogpost-title">
									  <a href="/blog/2015/11/13/traviscoveralls/">
									Level up GitHub builds with CI and code coverage
									  </a>
									</h1>

									<span class="blogpost-date">13 Nov 2015</span>

									
									</div>
									</div>
									

								</div>
							</div>

						
						 
					
						
							<div class="col-lg-6">
								<div class="post">
									</br>

									
									<div class="blogpost-overlay-header" style="background-image: url(/img/blog/artifactory2/artifactory2.png)">
									<div class="blogpost-overlay-header-title">
									  

									<h1 class="blogpost-title">
									  <a href="/blog/2015/08/13/artifactory2/">
									Getting the most out of Artifactory
									  </a>
									</h1>

									<span class="blogpost-date">13 Aug 2015</span>

									
									</div>
									</div>
									

								</div>
							</div>

						
						 
					
						
						 
					
						
						 
					
						
						 
					
					</div>
					</br>
					<p>For more interesting topics have a look at the <a href="http://jeroenmols.com/blog" target="blank">full blog</a>.</p>
			
            	</div>
            </div>
        </div>
    </section>

     <!-- About Section -->
    <section class="success" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>About</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2">
                <!-- <div class="col-lg-4 col-lg-offset-2"> -->
                    <p>Jeroen has  a real passion to build things, which continuously challenges him to experiment and learn. In the process he acquired his software skills and refocussed his master in Electrical engineering to become an Android developer. Starting off with highly technical prototypes for Wi-Fi connected products, he build his own file sharing platform (Wi-FileTransfer). One thing led to another and currently he drives the innovation for the official Philips Hue Android and iOS apps.</p>
                  </br>
                    <p>One of a kind, never-been-done before apps are what he enjoys most and complex systems, highly technical apps have become his expertise. Currently Jeroen helped realize three huge connected products, various high profile apps (e.g Tomorrowland festival app), actively contributes to open source (Landscape Video Camera) and loves interacting with the Android community.</p>
                    </br>
                <!-- </div>
                <div class="col-lg-4"> -->
                    <p>Key Strengths:
                        <ul>
                            <li>Excellent communicator</li>
                            <li>Architectural thinking – understanding the bigger picture</li>
                            <li>Agile methodologies (SCRUM)</li>
                            <li>Creative problem solver</li>
                            <li>Coaching and training</li>
                            <li>“Just do it” - mentality</li>
                            <li>Team player</li>
                        </ul>
                    </p>
                <!-- </div> -->
            </div>
            </div>
        </div>
    </section>

    
    <!-- Portfolio Grid Section -->
    <section id="portfolio">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Portfolio</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-landscapevideocamera" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/LandscapeVideoCamera_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-saecoavanti" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/SaecoAvanti_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-lightingpos" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/HuePos_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-smartair" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/SmartAir_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-eventapp" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/eventapp_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-tomorrowland" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/Tomorrowland_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-airstudio" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/AirStudio_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-wifiletransfer" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/WiFileTransfer_poster.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
                    <div class="col-sm-4 portfolio-item">
                        <a href="#portfolioModal-videobox" class="portfolio-link" data-toggle="modal">
                            <div class="caption">
                                <div class="caption-content">
                                    <i class="fa fa-search-plus fa-3x"></i>
                                </div>
                            </div>
                            <img src="img/portfolio/Videodagboek_onepager.jpg" class="img-responsive" alt="image-alt">
                        </a>
                    </div>
                
            </div>
        </div>
    </section>
    
    

        <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Location</h3>
                        <p>
                            
                                Mol <br>
		                    
                                Antwerp <br>
		                    
                                Belgium <br>
		                    
                        </p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Around the Web</h3>
                        <ul class="list-inline">
                            
                            <li>
                                <a href="https://twitter.com/molsjeroen" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
		                    
                            <li>
                                <a href="https://stackoverflow.com/users/2771851/jmols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-stack-overflow"></i></a>
                            </li>
		                    
                            <li>
                                <a href="https://github.com/JeroenMols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-github"></i></a>
                            </li>
		                    
                            <li>
                                <a href="https://be.linkedin.com/pub/jeroen-mols/25/a62/995" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
		                    
                            <li>
                                <a href="https://speakerdeck.com/jeroenmols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-file-pdf-o"></i></a>
                            </li>
		                    
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Credits</h3>
                        <p>This website is based on the free Bootstrap <a href="http://startbootstrap.com/template-overviews/freelancer/">Freelancer theme</a>.</br> The blog is based on <a href="http://hyde.getpoole.com"/>Hyde</a></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Jeroen Mols 2016
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visible-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

     <!-- Portfolio Modals -->
 
    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Git as a secure private Maven repository</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/wagongit/wagongit.png" class="img-responsive img-centered" alt="">
                            <p>As my previous blogposts already covered how to set up a private Maven repository, you might wonder "Why again a Maven blogpost?". Well that's a fair question and the answer is twofold:

1. Backup mechanism, to ensure you never ever loose releases.
2. Remote access outside of your local network (intranet).

And Git implicitly solves both! :)

I'll demonstrate how to configure Bitbucket as a free private remote Maven repository and automate everything in one simple Gradle script.

## Preface
While you could use any Git repository (like GitHub), I choose Bitbucket as it offers [free private repositories](https://bitbucket.org/product/pricing) for small teams. Furthermore it has an API which we will need for some of the wizardry later on.

All source code is available on [Github](https://github.com/JeroenMols/WagonGitExample) and can be used after some minor BitBucket configuration. You can find the [Gradle script](https://github.com/JeroenMols/GitAsMaven) in a separate repository.

## Bitbucket
Without any further a do, lets get to it and start configuring BitBucket.

Login to Bitbucket and create a new private repository called `maven_repository`.

<center><a href="{{ site.blogbaseurl }}img/blog/wagongit/createrepository.png"><img src="{{ site.blogbaseurl }}img/blog/wagongit/createrepository.png" alt="Create new BitBucket repository"></a></center>

Checkout the repository locally, create a `README.md` file and commit that file to your local branch. Now push that branch to BitBucket, BUT make sure to push it to a remote branch called "releases". (this is key, as the plugin we'll use later on depends on this)

<center><a href="{{ site.blogbaseurl }}img/blog/wagongit/releasebranch.png"><img src="{{ site.blogbaseurl }}img/blog/wagongit/releasebranch.png" alt="BitBucket repository with main branch releases."></a></center>

> **Troubleshooting releases branch**
> If you accidentally push your local branch to a remote called `master`, create a new branch locally called releases, push that to a remote `releases` and change your main branch in the BitBucket settings for that repository.
>
> <center><a href="{{ site.blogbaseurl }}img/blog/wagongit/configuremainbranch.png"><img src="{{ site.blogbaseurl }}img/blog/wagongit/configuremainbranch.png" alt="Change the main branch from master to releases"></a></center>
>
> You can safely remove origin/master if you want.

## Wagon-git
To upload Maven artifacts to a Git repository, we will use a Maven plugin called [Wagon-git](https://synergian.github.io/wagon-git/), which can hook into the existing Gradle DSL for Maven uploads.

Simply add a new repository:

```groovy
repositories {
    maven { url "https://raw.github.com/synergian/wagon-git/releases" }
}
```

And configure Maven like you would normally do, but with our BitBucket repository url in a particular format:

```groovy
uploadArchives {
    repositories.mavenDeployer {
        ...
        repository(url: 'git:releases://git@bitbucket.org:' + COMPANY + '/' + REPOSITORY_NAME + '.git')
        ...
    }
}
```

Where `COMPANY` is the name of your BitBucket organization and `REPOSITORY_NAME` is `maven_repository`.

Now you can simply create a new release by running the following command:

```bash
./gradlew assembleRelease uploadArchives
```

And check BitBucket for the resulting artifacts.

<center><a href="{{ site.blogbaseurl }}img/blog/wagongit/releasecommits.png"><img src="{{ site.blogbaseurl }}img/blog/wagongit/releasecommits.png" alt="Release commit of a Maven upload to BitBucket."></a></center>

<center><a href="{{ site.blogbaseurl }}img/blog/wagongit/releasecommitdetails.png"><img src="{{ site.blogbaseurl }}img/blog/wagongit/releasecommitdetails.png" alt="File details of a release commit."></a></center>

## Unique versions only
As Git naturally allows you to override existing files, we will need to do something to prevent this from happening. Otherwise, you could have a v1.1.3 library, which is stable one day and full of bugs the next (because someone replaced it in the Maven repo). Not exactly what you want, right?

We will use the BitBucket API to verify if a particular release already exists:

```groovy
task lookForArtifacts {
    doLast {
        ...
        def repositoryUrl = 'https://api.bitbucket.org/1.0/repositories/' + COMPANY + '/' + REPOSITORY_NAME + '/raw/releases/' + artifactPath
        ...
        if (urlExists(repositoryUrl)) {
            throw new RuntimeException("Artifact with version " + ARTIFACT_VERSION + " already exist - not executing uploadArchives")
        }
        return true
    }
}
```

Quite simple actually: just reverse engineer the url of a particular release artifact and the see if we get a 200 response or not.

Finally we ensure that we always run the previous task before running the Maven task:

```groovy
uploadArchives.dependsOn lookForArtifacts
```

Running `./gradlew uploadArchives` now successfully creates a release.

<center><a href="{{ site.blogbaseurl }}img/blog/wagongit/checkforartifacts.png"><img src="{{ site.blogbaseurl }}img/blog/wagongit/checkforartifacts.png" alt="Check for existing artifacts before uploadArchives."></a></center>

## Consuming artifacts
Add your Maven repository to the list of repositories in your main `build.gradle` file:

```groovy
allprojects {
    repositories {
        jcenter()

        maven {
            credentials {
                username USERNAME
                password PASSWORD
            }
            url "https://api.bitbucket.org/1.0/repositories/jeroenmols/maven_repository/raw/releases"
        }
    }
}
```

Note that we have to provide a `username` and `password` as we are connecting to a private repository.

> **Important**
>
> Make sure not to put your username and password directly into the `build.gradle` file! That would be a major security risk. Instead have a look at [this blogpost](http://localhost:4000/blog/2015/08/13/artifactory2/) to learn how to securely provide a username and password.

Now simply add a dependency on your library like you are used to and you're ready.

```groovy
dependencies {
    ...
    compile 'com.jeroenmols.awesomelibrary:awesomelibrary:1.0.0'
}
```

## Putting it all together
To make your life a lot easier, I've created a [Gradle script](https://github.com/JeroenMols/WagonGitExample/blob/master/library/publish-bitbucket.gradle) that does everything for you.

Setting up your project is easy:

1. Add the following plugin to the top of the [build.gradle](https://github.com/JeroenMols/WagonGitExample/blob/master/library/build.gradle) file in your library folder

  ```groovy
  apply from: 'https://raw.githubusercontent.com/JeroenMols/GitAsMaven/master/publish-bitbucket.gradle'
  ```

2. Create a [gradle.properties](https://github.com/JeroenMols/WagonGitExample/blob/master/library/gradle.properties) file within your library folder with the following parameters:

  ```groovy
  ARTIFACT_VERSION=<version_here>
  ARTIFACT_NAME=<libraryname_here>
  ARTIFACT_PACKAGE=<packagename_here>
  ARTIFACT_PACKAGING=aar //You could also use jar

  COMPANY=<bitbucket_team_company_here> //Username if not part of team
  REPOSITORY_NAME=<bitbucket_reponame_here>
  ```

3. Create a [gradle.properties](https://github.com/JeroenMols/WagonGitExample/blob/master/gradle.properties) file in the root of your project (or better in the global `.gradle` folder on your system) with the following parameters

  ```groovy
  USERNAME=<username_here>
  PASSWORD=<password_here>
  ```

4. Run the following command to upload a version to your Maven repository.

  ```bash
  ./gradlew uploadArchives
  ```

Thats's it!

## Wrap-up
Configuring BitBucket or GitHub as a (private) Maven repository is quite easy and can be fully automated in a single Gradle script. Hopefully this blogpost has inspired many of you to start reusing more code.

A basic example project with everything in this blogpost integrated is available on [GitHub](https://github.com/JeroenMols/WagonGitExample). Or you can also directly integrate the [Gradle script](https://github.com/JeroenMols/GitAsMaven) into your library.

As always you can reach me [@molsjeroen](https://twitter.com/molsjeroen) on twitter, or leave a comment below!
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Year in review 2015</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/yearinreview15/yearinreview15.png" class="img-responsive img-centered" alt="">
                            <p>Finally found the time to write my `year in review`. #insomnia

2015 was a huge year for me! I even dare to say the biggest one of my life so far as I became a father of a lovely daughter Lene. Its really hard to over state how big of an impact that has on your life and how fantastic it is to see your own baby grow (and recognize parts of yourself in her). This obviously also explains my late `year in review` post. #perfectexcuse

On a technical level I also fared well and I'm very happy with what I've been able to accomplish:

- Created an library with >500 stars on  [Github](https://github.com/JeroenMols/LandscapeVideoCamera)
- Started my own blog and [website](http://jeroenmols.com)
- Featured blogpost in [Android Weekly](http://androidweekly.net/issues/issue-165)
- Spoke at my first conference [Droidcon Paris](https://speakerdeck.com/jeroenmols/distributing-to-a-public-or-private-maven-repository)
- Actively started using [twitter](https://twitter.com/molsjeroen) and gained >100 followers
- Gained >1000 reputation on [stackoverflow](https://stackoverflow.com/users/2771851/jmols)
- Landed a new job at Philips Hue
- Learned Xamarin and built a cross platform app
- Wrote the worlds latest `year in review` post

Next year will be more challenging as my daughter has become a lot more effective at grabbing my attention than my laptop. However I want to increase my efforts contributing back to the community by speaking at more conferences and writing more blogposts. Finally I also want to visit Google IO, which is about time I got there, don't you agree? ;)

As always you can reach me [@molsjeroen](https://twitter.com/molsjeroen) on twitter, or leave a comment below!
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Level up GitHub builds with CI and code coverage</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/traviscoveralls/traviscoveralls.png" class="img-responsive img-centered" alt="">
                            <p>Wouldn't you love to have your open source projects built automatically by a continuous integration server? And to have a detailed code coverage report for all your unit tests? Even when someone generated a pull request? And how about having cool badges to show off all of this?

<center>[![Build Status](https://travis-ci.org/JeroenMols/LandscapeVideoCamera.svg?branch=master)](https://travis-ci.org/JeroenMols/LandscapeVideoCamera) [![Coverage Status](https://coveralls.io/repos/JeroenMols/LandscapeVideoCamera/badge.svg?branch=master&service=github)](https://coveralls.io/github/JeroenMols/LandscapeVideoCamera?branch=master)</center>

Actually, all of this a breeze to set up, once you understand what works and what doesn't. It is even completely free for open source projects!

In less than half an hour, this blogpost will add CI and code coverage to your projects, just like I did for my own library [LandscapeVideoCamera](https://github.com/JeroenMols/LandscapeVideoCamera). While this article focusses on Android, the material presented here can quite easily be extended to a broader scope.

## Preface
In order to keep things simple, I created a very basic project containing a [Calculator class](https://github.com/JeroenMols/TravisCoverallsExample/blob/master/app/src/main/java/com/jeroenmols/traviscoveralls/Calculator.java) and some [Android tests](https://github.com/JeroenMols/TravisCoverallsExample/blob/master/app/src/androidTest/java/com/jeroenmols/traviscoveralls/CalculatorTest.java). This will make things easier to understand as we'll add everything step by step to this project.

Later on I will present a more elaborate (and usefull) example, namely my own open source library [LandscapeVideoCamera](https://github.com/JeroenMols/LandscapeVideoCamera). Some time ago, I test driven refactored this project completely resulting in respectable code coverage statistics.

## Travis
### About
[Travis](https://travis-ci.org/) is a feature rich online CI service which integrates nicely with a lot of existing services. One major advantage over Jenkins is that you can put the entire CI configuration file under version control. It is completely free for open source projects, although private repositories are also supported on a subscription basis.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-workflow.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-workflow.png" alt="Travis workflow"></a></center>

### Basic configuration
In order to get started, go to [travis-ci.org](https://travis-ci.org/), login with your GitHub account and authorize Travis to access your repositories.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-authorize.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-authorize.png" alt="Allow Travis to access your GitHub projects"></a></center>

Next, create a new file `.travis.yml` into the root of your project (note that this file will be hidden on Mac OSX/Linux systems). Open the file and specify the language of your project, in our case Android:

```yaml
language: android
```

Now Travis needs to know all dependencies in order to build the project. As such specify the build tools version and compile Android SDK version (note that this must match the `compileSdkVersion` of your [`build.gradle`](https://github.com/JeroenMols/TravisCoverallsExample/blob/master/app/build.gradle) file!). While there is an option to use the latest build tools version, I recommend to declare an explicit version as this makes your builds more reproducible. Next specify all of the Android SDK manager dependencies your project needs so Travis can install them before building the project.

```yaml
android:
  components:
    - build-tools-22.0.1
    - android-23
    - extra-android-m2repository
```

Note that our sample only depends on the AppCompat and design support library, hence there is only one extra defined `extra-android-m2repository`. In case your project uses other dependencies from the Android SDK, you can easily select them from the entire [dependency list](https://github.com/JeroenMols/TravisCoverallsExample/blob/master/misc/android_sdk_dependencies.txt) and add an extra item.

> **Extra: listing Android SDK dependencies**
>
> To generate the above mentioned list of Android SDK components, simply run the following command on your local machine:
>
>```bash
>android list sdk --no-ui --all --extended
>```

After, specify the exact `Gradle` command to run, in our case `assembleDebug`:

```yaml
script:
    - ./gradlew assembleDebug
```

Now that we have configured everything in the `travis.yml` file, we need to enable the project, so Travis will start listening to code changes. This can be done by going to your profile on [Travis](http://travis-ci.org) and flipping the appropriate slider.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-enableproject.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-enableproject.png" alt="Enable project in Travis"></a></center>

This will result in the project being shown on the left hand side of your dashboard, while indicating that there are no builds.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-nobuilds.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-nobuilds.png" alt="Travis overview with no builds, push code to origin to trigger a build."></a></center>

Builds are automatically triggered whenever you push code to your GitHub repository or someone else creates a pull request. Therefore push some changes to GitHub and watch Travis pick them up automatically and start building your project.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-firstbuild.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/travis-firstbuild.png" alt="First build in Travis"></a></center>

Congrats! You now have a fully working Continuous Integration server for your [open source project](https://travis-ci.org/JeroenMols/TravisCoverallsExample).

### Running Android unit tests
While running normal unit tests is straight forward, Android tests are a different story because they require an Android emulator to run on. And because Travis support for Android is still in [beta](http://docs.travis-ci.com/user/languages/android/), there are a couple of limitations to consider:

1. Only `armeabi-v7a` emulators are supported.
2. The Android M emulator is not yet supported.

> **Extra limitations of Travis Android support**
>
> You can *skip this if you want*, just some extra context
>
> First of all, Travis does not yet support HAXM to speed up intel emulators, so there is no speed up while using an `x86` emulator. Even more, the latest `x86_64 Android M` emulator requires hardware acceleration, so that one simply cannot be used on Travis! For more information see issue [1419](https://github.com/travis-ci/travis-ci/issues/1419) and [1395](https://github.com/travis-ci/travis-ci/issues/1395) or check out this [failing build](https://travis-ci.org/JeroenMols/LandscapeVideoCamera/builds/88619658#L693).
>
> Secondly, Travis does not yet support the latest Android M emulator, causing the built-in `android-wait-for-emulator` script to time out while the emulator is booting. Therefore I recommend to use the `android-22` emulator instead. For more information see this [failing build](https://travis-ci.org/JeroenMols/LandscapeVideoCamera/builds/88620580#L1069).

So you'll have to accept that builds will be slow (starting emulator + running test) and that you cannot use an Android M emulator. But if these are acceptable, read on and I'll explain how to set up everything for running tests.

First of all, define the Android version and processor architecture of the emulator by adding a new environment at the top of the `travis.yml` file:

```yaml
env:
  matrix:
    - ANDROID_TARGET=android-22 ANDROID_ABI=armeabi-v7a
```

Then, ensure that all dependencies for the Android emulator are installed, by adding both the platform version and emulator image to the `components` section. Note that it is important to add both, because the Android emulator will only install if the corresponding Android platform is installed (see this [failing build](https://travis-ci.org/JeroenMols/LandscapeVideoCamera/builds/88631850#L815)).

```yaml
android:
  components:
    ...
    - android-22
    - sys-img-armeabi-v7a-android-22
```

Now we need to create a new Android emulator and start it before our build. As starting takes a really long time, Travis offers a built-in `android-wait-for-emulator` script to facilitate this. Finally we need to unlock the emulator once started by sending a key event.

```yaml
before_script:
    - echo no | android create avd --force -n test -t $ANDROID_TARGET --abi $ANDROID_ABI
    - emulator -avd test -no-skin -no-audio -no-window &
    - android-wait-for-emulator
    - adb shell input keyevent 82 &
```

After all of this configuration, all we need to do is change the `Gradle` command to run all of the tests and trigger a new build by pushing all these changes.

```yaml
script:
    - ./gradlew connectedAndroidTest
```

### Taking things further
As mentioned in the introduction, Travis is a really feature rich CI service. Therefore this section provides some tips to take things even further.

1. **Build notifications:** Travis supports sending notifications via Slack, HipChat, email,... whenever a built fails/succeeds.</p>
For more information, have a look at the [Travis documentation](http://docs.travis-ci.com/user/notifications/).

```yaml
notifications:
    email:
      - your.email@gmail.com
```

- **Build status badge:** Click the build badge on your Travis homepage to generate png/markdown/... build badges.</p>
[![Build Status](https://travis-ci.org/JeroenMols/TravisCoverallsExample.svg?branch=master)](https://travis-ci.org/JeroenMols/TravisCoverallsExample)

- **Branch information:** Print which branch or pull request is being built.

```yaml
script:
    - echo "Travis branch is $TRAVIS_BRANCH"
    - echo "Travis branch is in pull request $TRAVIS_PULL+REQUEST"
```

- **More options:** Have a look at the [Travis documentation](http://docs.travis-ci.com/user/languages/android/).

## Coveralls
### About
[Coveralls](https://coveralls.io/) is a visually attractive online code coverage tool which provides detailed statistics such as line coverage and repository trends. Furthermore it allows you to show of your code coverage and encourages you to increase it. Like Travis, it is free for open source projects, but a subscription service is available for private repositories.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-example.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-example.png" alt="Example coveralls dashboard"></a></center>

### Enabling Android code coverage
First of all, your Android project needs to be configured to generate code coverage reports. As such, ensure that you are using at least version 0.4 of the [Android testing support library](https://google.github.io/android-testing-support-library/) (there was an [issue](https://code.google.com/p/android/issues/detail?id=170607) in version 0.3).

Then add the flag `testCoverageEnabled` to the debug buildTypes in your main module's `build.gradle` file, causing a code coverage report to be generated in the `build/reports/coverage/` folder.

```groovy
android {
  ...

  buildTypes {
        debug {
            testCoverageEnabled true
        }
    }
}
```

At this point, you should be able to run `gradle connectedAndroidTest` and view an `html` and `xml` report in the above mentioned directory.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-rawcoverage.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-rawcoverage.png" alt="Basic coverage report generated by the built in Android code coverage"></a></center>

### Basic configuration
In order to get started, go to [coveralls.io](https://coveralls.io/), login with your GitHub account and authorize Coveralls to access your repositories.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-authorize.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-authorize.png" alt="Allow Coveralls to access your GitHub projects"></a></center>

Next, we'll need to configure your `build.gradle` files to upload the coverage reports to Coveralls after each successful CI build. Therefore add a new classpath dependency to the root projects `build.gradle` file.

```groovy
buildscript {
    ...

    dependencies {
        ...
        classpath 'org.kt3k.gradle.plugin:coveralls-gradle-plugin:2.4.0'
    }
}
```

Then we can apply the `coveralls` plugin, point it to the coverage reports directory and ensure it only runs on CI builds by adding the following to your main module's `build.gradle` file:

```groovy
apply plugin: 'com.github.kt3k.coveralls'
```

```groovy
coveralls {
    jacocoReportPath = "${buildDir}/reports/coverage/debug/report.xml"
}

tasks.coveralls {
    dependsOn 'connectedAndroidTest'
    onlyIf { System.env.'CI' }
}
```

Note that we also added a dependency on the `connectedAndroidTest` task as that is the one that will actually generate the code coverage report.

Let's now change the build task in the `travis.yml` so it runs the `coveralls` task after every build. While not strictly necessary to still define the `connectedAndroidTest` task, I prefer to do so as it makes it more explicit what `Gradle` will exactly be building.

```yaml
script:
  ...
  - ./gradlew connectedAndroidTest coveralls

```

Next we need to activate our GitHub repository in coveralls, so it picks up the output from the `Gradle` plugin. This can easily be done by clicking `add repos` on [coveralls.io](https://coveralls.io) and flipping the switch on your repository.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-enableproject.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-enableproject.png" alt="Enable project in Coveralls"></a></center>

This will result in the project being added to your dashboard without any builds.

<center><a href="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-nobuilds.png"><img src="{{ site.blogbaseurl }}img/blog/traviscoveralls/coveralls-nobuilds.png" alt="No builds yet in Coveralls"></a></center>

Simply trigger a Travis build by pushing some changes to start seeing code coverage results online.

Finally you can easily add a badge to your repository by clicking the `Badge urls` button from the green banner in the detail view.

<center>[![Coverage Status](https://coveralls.io/repos/JeroenMols/TravisCoverallsExample/badge.svg?branch=master&service=github)](https://coveralls.io/github/JeroenMols/TravisCoverallsExample?branch=master)</center>

Congratulations you know have attractive code coverage reports for [your repository](https://coveralls.io/github/JeroenMols/TravisCoverallsExample)!

## Wrap-up
Adding Travis CI and Coveralls code coverage to your project is fairly straightforward once you know what works and especially what doesn't work. Hopefully this blogpost was able to remove a lot of those frustrating barriers of entry.

A basic example project with everything in this blogpost integrated is available on [GitHub](https://github.com/JeroenMols/TravisCoverallsExample). But in case you're interested in a real life example, have a look at my Android library [LandscapeVideoCamera](https://github.com/JeroenMols/LandscapeVideoCamera), which actually has decent code coverage statistics.

<center>[![Build Status](https://travis-ci.org/JeroenMols/LandscapeVideoCamera.svg?branch=master)](https://travis-ci.org/JeroenMols/LandscapeVideoCamera) [![Coverage Status](https://coveralls.io/repos/JeroenMols/LandscapeVideoCamera/badge.svg?branch=master&service=github)](https://coveralls.io/github/JeroenMols/LandscapeVideoCamera?branch=master)</center>

As always you can reach me [@molsjeroen](https://twitter.com/molsjeroen) on twitter, or leave a comment below!
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Getting the most out of Artifactory</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/artifactory2/artifactory2.png" class="img-responsive img-centered" alt="">
                            <p>My previous [blog post]({% post_url 2015-08-06-artifactory %}) described how to set up your own private Maven repository with Artifactory in 30 minutes. This second and final part will make things more interesting and take your setup to the next level.

You will learn how to:

- handle library projects with dependencies
- securely provide username and password
- work with snapshot and release builds
- configure custom repositories
- manage user access

All source code is [available on Github](https://github.com/JeroenMols/ArtifactoryExample) as usual.

Note that the material presented here can quite easily be extended to be applicable beyond Android.

## Library projects with dependencies
Imagine if your Android library project itself has dependencies. Then the application using the library wouldn't be able to run unless it provides all dependencies the library requires.

To better understand this, consider the new [`AwesomeAdvancedLibrary`](https://github.com/JeroenMols/ArtifactoryExample/blob/master/AwesomeAdvancedLibrary/awesomeadvancedlibrary/src/main/java/com/jeroenmols/awesomeadvancedlibrary/AwesomeConvertor.java) which makes use of [Guava](https://github.com/google/guava) to *awesomize* a `String`. The application using this library should be agnostic of this dependency. Hence we do not want to define two dependencies:

```groovy
dependencies {
    compile 'com.jeroenmols.awesomeadvancedlibrary:awesomeadvancedlibrary:1.0.0'
    compile 'com.google.guava:guava:18.0'
}
```


Instead one `compile` dependency should suffice to use the library.

> **Important note on including dependencies**
>
> You can *skip this if you want*, just some extra context
>
>Including dependencies in your library is not always a good idea, because this can lead to a dependency conflict while integrating. I only choose Guava to keep things simple, but it is actually a very bad example as it is a utility library. This means it's quite likely that the app also needs it.
>
> A better example would be a universal *analytics* library offering a universal API to track analytics and redirecting all calls internally to one or more analytics providers. Here packaging dependencies makes sense, because the app never needs to talk to the dependency directly. It also hides implementation details, so the app doesn't need to be modified when switching to a new provider.

Imagine if we would simply resort to the buildscript we had in my previous [blogpost]({% post_url 2015-08-06-artifactory %}). At compile time the `Guava` dependency will not be included, because the would make the library unnecessarily large. Instead, the compiler will tell the library: "don't worry about this dependency, the app will provide it for you."

The app on the other hand wouldn't have a clue which dependencies the library actually needs (how would it?) and hence the app will compile just fine. However, after starting the app and trying to access the library, the app would crash at runtime:

```Java
08-09 20:49:46.096  28892-28892/? E/AndroidRuntime﹕ FATAL EXCEPTION: main
Process: com.jeroenmols.awesomeadvancedapplication, PID: 28892
java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/base/CharMatcher;
    at com.jeroenmols.awesomeadvancedlibrary.AwesomeConvertor.toAwesome(AwesomeConvertor.java:11)
```

To solve this, we need to ensure that the library `pom.xml` file  contains the right dependencies by manually adding the `pom.withXml{}` element to the `publishing task`:

```groovy
publishing {
    publications {
        aar(MavenPublication) {
            groupId packageName
            version = libraryVersion
            artifactId project.getName()
            artifact("$buildDir/outputs/aar/${project.getName()}-release.aar")

            pom.withXml {
                def dependencies = asNode().appendNode('dependencies')
                configurations.getByName("_releaseCompile").getResolvedConfiguration().getFirstLevelModuleDependencies().each {
                    def dependency = dependencies.appendNode('dependency')
                    dependency.appendNode('groupId', it.moduleGroup)
                    dependency.appendNode('artifactId', it.moduleName)
                    dependency.appendNode('version', it.moduleVersion)
                }
            }
        }
    }
}
```

Note that while you can similarly add other repositories in this way to the `pom.xml`, Gradle itself [won't look](https://discuss.gradle.org/t/resolving-problem-when-maven-repo-contains-pom-but-not-jar/7174) for repositories in that file. Therefore if you use libraries from 3rd party repositories, you still need to add those repositories to the `build.gradle` of your app.

## Securely provide username and password
Obviously we do not want to store a plain text username and password in any file that we check in to our version control system. So to make sure we hide those, create a `gradle.properties` file in the root of your project and add the following content:

```groovy
artifactory_username=admin
artifactory_password=password
```

Then in your `build.gradle` file, refer to the properties like this:

```groovy
username = artifactory_username
password = artifactory_password
```

We have now obfuscated the password, so it is no longer in the `build.gradle` file, but people can still find it in the `gradle.properties` file under version control. To prevent this, you must do one of the following:

- Don't add `gradle.properties` to your version control system. (add it to your `.gitignore` file instead)
- Move the `gradle.properties` to the base `~/.gradle` folder on your hard drive. I personally recommend this approach as you can never accidentally check in your username and password.

## Working with Snapshot and Release builds
While the Artifactory Gradle plugin doesn't have support for snapshot/release builds out of the box, it is easy to add this functionality by relying on the artifact version:

- For release builds: use [symantic versioning](http://semver.org/) e.g. `1.0.0`
- For Snapshot builds: use symantic versioning with `-SNAPSHOT` suffix e.g. `1.0.0-SNAPSHOT`

Now you can direct each one to a different Artifactory repository by changing the repository key as follows:

```groovy
repoKey = libraryVersion.endsWith('SNAPSHOT') ? 'libs-snapshot-local' : 'libs-release-local'
 ```

On the application side you need to add two different Maven urls so you can refer to artifacts in both repositories.

```groovy
allprojects {
    repositories {
      maven { url "http://localhost:8081/artifactory/libs-release-local" }
      maven { url "http://localhost:8081/artifactory/libs-snapshot-local" }
    }
}
```

Referencing artifacts is exactly the same as before, just don't forget to add the `-SNAPSHOT` suffix for snapshot artifacts.

Alternatively we can also create a `virtual` repository in Artifactory which wraps around both repositories. This way the app only requires one URL, but does create a dependency on the existing Artifactory setup.

1. Login to Artifactory and go to admin > repositories > virtual
  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_virtualrepo1.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_virtualrepo1.png" alt="All virtual repositories can be found under admin - repositories - virtual"></a></center>
2. Create a new virtual maven repository which contains both `libs-release-local` and `libs-snapshot-local`
  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_virtualrepo2.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_virtualrepo2.png" alt="Create a new virtual maven repository which contains both libs-release-local and libs-snapshot-local"></a></center>
3. In the top level `build.gradle` of your application, replace the two previous URLS by the following:

  ```groovy
  allprojects {
      repositories {
        maven { url "http://localhost:8081/artifactory/libs-local" }
      }
  }
  ```

## User access management
Currently everyone can both read and write to all your repositories. This is not a good idea, especially if your server is also connected to the internet. Therefore we are going to set up two different users: one to deploy artifacts and one to consume artifacts.

In order to do so, go to artifactory and login as `admin`. Now navigate to admin > security > general and make the following changes:

- set `Allow Anonymous Access` to false -> ensures only known Artifactory users can consume artifacts
- set `Password Encryption Policy` to `REQUIRED` -> ensures we don't have to hardcode a plain text password in our `build.gradle`.
- press the `encrypt` button in the `Password Encyption` section -> encrypts all passwords

If the app now tries to consume an artifact, it will get a `401` error: unauthorized. You can verify this yourself by clearing the gradle cache (to force a dependency download):

```bash
gradle clean --refresh-dependencies
```

Next, go to the `Users` pane and add two new user: `consumer` and `deployer`. Make sure not to add them to any group.

  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_user1.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_user1.png" alt="Settings for consumer user"></a></center>

  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_user2.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_user2.png" alt="Settings for deployer user"></a></center>

Note that you probably also want to change your admin password at this stage. ;)

Now go to the `Permissions` pane and add a new `Consume Libraries` permission. Set the Selected repositories to include the snapshot and release repository, and in the `Users` tab add the `consumer` user with read permissions.

  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission1.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission1.png" alt="Settings for Consume Libraries permission"></a></center>

  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission2.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission2.png" alt="Settings for Consume Libraries permission"></a></center>

Add a second permission: `Deploy Libraries` with the snapshot and release repository included. Here give the `deployer` user `Deploy/Cache` permission but not `Delete/Overwrite` as you never want to override an existing artifact!

  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission3.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission3.png" alt="Settings for Deploy Libraries permission"></a></center>

  <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission4.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_permission4.png" alt="Settings for Deploy Libraries permission"></a></center>

All we need to do now is modify the Library and Application to make use of these new users. This is easy for the Library as you can simply replace the `admin` user with the `deploy` user in the `gradle.properties` file.

For the Application we will need to provide credentials to access the Maven repository. Here we will hard code the username and password in the top level `build.gradle` file because team members should be able to checkout and build the code without extra configuration.

Therefore we will take some extra security precautions:

- Use a user with read access to only a small subset of our repositories: `deploy`.
- Check the code into a private repository, so the hardcoded password is protected by repository password.
- Use the encrypted version of the password instead of the plain text version:
  - Login to artifactory as the `consumer` user
  - Navigate to the user settings in the top right corner
  - Unlock your profile with your password
  - Copy the API key

    <center><a href="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_consumer.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory2/artifactory2_consumer.png" alt="Copy the API key from the consumer profile."></a></center>

Now add the user authentication to the top level `build.gradle` file:

```Groovy
allprojects {
    repositories {
        jcenter()
        // NOTE: configure your virtual repository and user in artifactory to make this work
        maven {
            url "http://localhost:8081/artifactory/libs-local"
            credentials {
                username 'consumer'
                password 'APA52uxnRkmxeRXmJqd7haMpwgg'
            }
        }
    }
}
```

And we are all set with authenticated access to our repositories.

## Wrap-up
That's a wrap to my two part blogpost about Artifactory! We made our previous repository a lot more secure, added support for dependencies and can now differentiate between release and snapshot artifacts.

No more excuses not to write reusable code!

Feel free to leave a comment and don't forget to check the [full source code](https://github.com/JeroenMols/ArtifactoryExample) on Github.
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>A private Maven repository for Android in 30 min</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/artifactory/artifactory.png" class="img-responsive img-centered" alt="">
                            <p>Setting up your own Maven repository and uploading artifacts to it is quite a daunting task. As I went through this experience myself recently, I want to help others in setting up their own Maven repository via [Artifactory](http://www.jfrog.com/open-source/) and automate uploading artifacts using Gradle.

In less than 30 minutes you will have a fully operational private Maven repository and have configured your Gradle buildscripts to upload your Android library artifacts.

Note that the material presented here can quite easily be extended to be applicable in a broader scope beyond Android.

## Setting up a Repository Manager
First of all we need to make sure we have an actual Maven repository to upload our artifacts to. According to [Maven](https://maven.apache.org/repository-management.html) you should use a repository manager to do that:

> **Best Practice - Using a Repository Manager**

> A repository manager is a dedicated server application designed to manage repositories of binary components. The usage of a repository manager is considered an essential best practice for any significant usage of Maven.

### Why Artifactory?

While there are some options available to choose from, I personally selected [Artifactory](http://www.jfrog.com/open-source/) because:

- Clear and attractive UI
- Super fast configuration
- Gradle plugin
- User access control
- Free and open source

<center>[![What is Artifactory](http://img.youtube.com/vi/aa4YBDUDWy0/0.jpg)](http://www.youtube.com/watch?v=aa4YBDUDWy0)</center></p>

For more information have a look at the [alternatives](https://maven.apache.org/repository-management.html), checkout this [feature comparison matrix](http://www.jfrog.com/blog/artifactory-vs-nexus-integration-matrix/) or review all of the [Artifactory features](https://www.jfrog.com/confluence/display/RTF/Artifactory+Comparison+Matrix).

### Verify you have Java SDK 8
Before you get started, make sure that you have Java SDK 8 installed, or otherwise Artifactory won't start. You can easily verify your Java version with `java -version`:

```bash
$ java -version
java version "1.8.0_51"
Java(TM) SE Runtime Environment (build 1.8.0_51-b16)
Java HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)
```

If it doesn't output at least version `1.8.x`, you should [download](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) and install a new Java SDK before you continue.

Note that the error you get if you don't have Java 8 looks a bit cryptic:

```
Aug 05, 2015 9:29:31 AM org.apache.catalina.core.StandardContext startInternal
SEVERE: One or more listeners failed to start. Full details will be found in the appropriate container log file
```

### Install Artifactory
Thankfully this is incredibly easy to do. Just download the latest version of [Artifactory](http://www.jfrog.com/open-source/), unpack the archive and run the `artifactory` executable for your platform.

<center>[![< 1min Artifactory set up](http://img.youtube.com/vi/7ZSUHgHDMmc/0.jpg)](http://www.youtube.com/watch?v=7ZSUHgHDMmc)</center></p>

You can easily verify your installation and start experimenting with its features by navigating to [http://localhost:8081/artifactory/](http://localhost:8081/artifactory/). For now, don't worry about all of the settings, we will configure what we need later on.

### Configuring Gradle to upload Android artifacts
Let's upload a very simple archive by configuring a new Gradle task for our Android library project.

In your top level `build.gradle` file, add a reference to the repository of the Artifactory Gradle plugin:

```groovy
buildscript {
    dependencies {
        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:3.1.1"
    }
}
```

Next in your library we will need to apply two new plugins: one to prepare the Maven artifacts `maven-publish` and one to upload the archives to Artifactory ` com.jfrog.artifactory`:

```groovy
apply plugin: 'com.jfrog.artifactory'
apply plugin: 'maven-publish'
```

Every Maven artifact is identified by three different parameters:

- artifactId: the name of your library
- groupId: usually the package name of your library
- version: identifies different releases of the same artifact

For the last two, we will explicitly define a variable in the `build.gradle` file.

```groovy
def packageName = 'com.jeroenmols.awesomelibrary'
def libraryVersion = '1.0.0'
```

The `artifactId` however needs to match the output filename of the `assembleRelease` task. Therefore we either have to [rename the library module](https://stackoverflow.com/questions/26936812/renaming-modules-in-android-studio) or explicitly [specify the output filename](https://stackoverflow.com/questions/24728591/how-to-set-name-of-aar-output-from-gradle). I personally prefer the first approach, which allows to get `artifactId` in the following way:

```groovy
project.getName() // the ArtifactId
```

Now we need to configure the `maven-publish` plugin so that it knows which artifacts to publish to Artifactory. For our purpose we will refer to the `***-release.aar` file, generated by the `assembleRelease` task. Note that we can predict the name by taking the name of the Library project:

```groovy
publishing {
    publications {
        aar(MavenPublication) {
            groupId packageName
            version = libraryVersion
            artifactId project.getName()

            // Tell maven to prepare the generated "*.aar" file for publishing
            artifact("$buildDir/outputs/aar/${project.getName()}-release.aar")
      }
    }
}
```

Finally we need to configure the `com.jfrog.artifactory` plugin so it knows which repository to publish the artifacts to. For simplicity we will upload the artifact to the locally running Artifactory instance ([http://localhost:8081/artifactory](http://localhost:8081/artifactory)) and place it in the default `libs-release-local` repository. Note that the username `admin` and password `password` are hardcoded in this example, but we will provide a better solution for that later.

```groovy
artifactory {
    contextUrl = 'http://localhost:8081/artifactory'
    publish {
        repository {
            // The Artifactory repository key to publish to
            repoKey = 'libs-release-local'

            username = "admin"
            password = "password"
        }
        defaults {
            // Tell the Artifactory Plugin which artifacts should be published to Artifactory.
            publications('aar')
            publishArtifacts = true

            // Properties to be attached to the published artifacts.
            properties = ['qa.level': 'basic', 'dev.team': 'core']
            // Publish generated POM files to Artifactory (true by default)
            publishPom = true
        }
    }
}
```

### Deploying artifacts
Now that our Gradle buildscripts are properly configured we can easily publish artifacts to Artifactory by running the following command:

```groovy
gradle assembleRelease artifactoryPublish
```

Notice how we first invoke `assembleRelease` before we invoke the actual `artifactoryPublish` task, because of the way we defined the artifacts to publish in the previous section.

You can very easily verify that the upload was successful by navigating to [localhost:8081](http://localhost:8081) and signing in with the default admin credentials.

<center><a href="{{ site.blogbaseurl }}img/blog/artifactory/artifactory_screenshot.png"><img src="{{ site.blogbaseurl }}img/blog/artifactory/artifactory_screenshot.png" alt="Verify a successful upload in the Artifactory control panel."></a></center>

### Using the artifacts
To make use of the published artifacts in another project we have to add our Artifactory repository to the list of Maven repositories in your top level `build.gradle` file:

```groovy
allprojects {
    repositories {
        maven { url "http://localhost:8081/artifactory/libs-release-local" }
    }
}
```

After we can simply add the artifact as a dependency in the `build.gradle` file of our main project:

```groovy
dependencies {
    compile 'com.jeroenmols.awesomelibrary:1.0.0'
}
```

## Wrap-up
Congratulations! You now have a fully working Maven repository manager with a Gradle script to generate and upload your artifacts.

In the next [blog post]({% post_url 2015-08-13-artifactory2 %}) I will zoom in on more advanced topics like:

- Library projects with dependencies
- Configuring your own repositories
- User access management and rights
- Removing hardcoded username and password from `build.gradle`

I have also uploaded a [complete example](https://github.com/JeroenMols/ArtifactoryExample) on GitHub for your reference.
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>How I created my blog</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/jekyll.png" class="img-responsive img-centered" alt="">
                            <p>## Preface
For quite some months, I've been planning to create a website and start blogging about the things I'm passionate about. Last week, I finally decided to setup a [portfolio](http://jeroenmols.github.io) and [blog](http://jeroen.mols.github.io/blog) using GitHub pages and Jekyll.

Since I'm an Android and not a web developer, the first blogging subject wasn't hard to find: challenges I came across in setting up this website and blog.

> **Disclaimer:** Eventually I had to use a workaround - that's why I don't build websites professionally - but I strongly believe in a *Just do It* mentality and then learn/improve as you go.

## Why Jekyll
Keeping it simple, I only had few requirements for my blog:

- Responsive website
- Easy to setup and maintain
- No lock-in: able to migrate to other platforms
- Support for pagination and comments

First thing I learned was the difference between a static (e.g. Jekyll) and dynamic website (e.g. Wordpress) via a [great presentation](http://nilclass.com/courses/what-is-a-static-website/) by [@plusjade](https://twitter.com/plusjade).

The main advantage of static websites is their loading speed because all pages are generated before they are served. Installing the generator on your local machine is simple, making it easy to test your site before deploying online. Posts are written in Markdown, so no HTML clutter nor extra tools needed. Just a text generator and Git to conveniently version all changes.

>**Protip:** One of my colleagues [@inferis](https://twitter.com/inferis) even gets spelling corrections via Pull request!

As GitHub pages natively supports Jekyll, I didn't really spent much time on choosing which [static site generator](https://staticsitegenerators.net/) to use.

## Setting up
Installing Jekyll was really a breeze, I just had to run `gem install Jekyll` and then I could build my website using `jekyll build` or test it locally using `jekyll serve`.

> **Note:** both commands will generate your website in the `_site` folder, which you shouldn't add to version control!

Instead of making a new Jekyll site, I decided to fork two existing themes:

- [Hyde](http://hyde.getpoole.com/): a clean two-column theme for my Blog
- [Freelancer](http://startbootstrap.com/template-overviews/freelancer/): to have a cool portfolio

Both themes offer quite some predefined customization options via the `_config.yml` file, but for advanced theming you can also directly edit the CSS files.

## Merging two Jekyll themes
Where I originally only wanted to have a blog, the Freelancer theme was just too cool to ignore. Consequently merging two themes was one of the first things I had to do.

It seemed most convenient to have my portfolio under my main url and to include my blog under a subfolder (i.e. `jeroenmols.github.io/blog`).

To do this I merged the blog theme into the portfolio (main) theme:

- Add a subfolder `blog/` with the `index.html` of my blog.

- Move all my portfolio posts and blog posts into separate folders:
	- all portfolio posts went into `portfolio/_posts`
	- all blog posts went into `blog/_posts`

	This allows to easily loop through all portfolio or blog posts separately:

	- `{{ "{% for post in site.categories.portfolio " }}%}`
	- `{{ "{% for post in site.categories.blog " }}%}`

- Move all files in `_layouts` and `_includes` from my blog into the corresponding folders of my portfolio theme.
	- Optionally you can move files into subfolders to keep things clean (`_includes/blog`), as long as you also update all references to these files. (in `_layouts/blog.html` I now refer to my includes as `blog/<original name>`)
	- Same holds true if you have naming conflicts (for instance two layouts with the same name), you can just rename one and update all references in all files using it.

- Move all other folders and files into the root of the main theme

- Merge the configurations from both `_config.yml` files
	- Again you can rename conflicting configurations (or merge duplicate ones) if you update all references.

- Fix all references to not found images/css/... files in the blog theme. This is necessary because the original theme was assuming to run in the root directory, and now we moved it to a subdirectory `blog/`.
	- I found that the best way to do this is to run `jekyll build` and have a look at the generated output in the `_site` directory. From this you can learn what's wrong and fix it.

After this I could run `Jekyll serve` and everything worked flawlessly!

...

Wait...

...

Why are my portfolio posts also showing up in my blog?

...

Damn you Jekyll!

Turns out Jekyll does not support paginating categories and hence it will lump all posts it finds together, in my case both portfolio (unwanted) and blog (wanted). Even more, there is no plugin to add this functionality either! Pretty weird, and a huge limitation if you ask me.

So I did what every self-respecting programmer would do: pray to the Stackoverflow and GitHub gods. And my prayers where answered by a code snippet of [benxtan](https://github.com/benxtan), which I found in an issue tracker of a very old [Jekyll pagination plugin](https://github.com/Painted-Fox/jekyll-category-pagination/issues/6). To enable this plugin, simply create a `_plugins` folder and copy the code snippet into a `category_pagination.rb` file.

>**Note**: the former plugin was no longer working, because it was referring to classes that were renamed/moved classes in newer Jekyll versions.

## GitHub and Jekyll plugins
My new shiny portfolio and blog were working locally, but when I pushed it to GitHub, the pagination again included both blog and portfolio posts. Turns out that GitHub doesn't allow you to run custom Jekyll plugins except for a few that they have whitelisted.

>**[Plugins on GitHub Pages](http://jekyllrb.com/docs/plugins/)**
>
>GitHub Pages is powered by Jekyll. However, all Pages sites are generated using the --safe option to disable custom plugins for security reasons. Unfortunately, this means your plugins won’t work if you’re deploying to GitHub Pages.

At this point, I am/was completely stuck, because even if Jekyll would add support for category pagination, I would still need to wait for GitHub to update their Jekyll version.

Only option remaining was to directly push the generated `_site` directory into my repository and to disable the Jekyll generator on GitHub pages.

>Note that this is a really suboptimal solution, because this effectively means pushing a high amount of auto-generated files to your repo, frequently. So if anyone has a better suggestion to solve the pagination issue, please let me know!

To make this work, there are a couple of things you need to do:

- Disable Jekyll on GitHub pages by pushing an empty file with name `.nojekyll` to the root of your repo

- Move all auto generated content from the `_site` folder into the root of your repository, so that its `index.html` is displayed when someone browses to your main page.

This actually by itself imposes a new problem, namely where to put your Jekyll source code? I solved this by:

- move all source files to a subfolder `jekyll-source` in my main repository

- generating all static pages into `jekyll-source/_site` using `jekyll build`

- removing all files and folders from my root directory, except for the `jekyll-source` directory

- copying the entire content of `jekyll-source/_site` into my root folder

I know this is not a great solution, but it gets the job done, and I was able to automate all of this in a [release script](https://github.com/JeroenMols/jeroenmols.github.io/blob/master/jekyll-code/release) that you can run by calling `.release` from the `jekyll-source` folder.

>**Note**: I also considered two other options:
>
>- Use a `CNAME` file to redirect my main url into a subfolder. This does not work, as the `CNAME` file can only be used for top-level domains.
>- Use a placeholder `index.html` which redirect the main url into a subfolder.
>
>I didn't use any of those mechanisms as that would unnecessarily complicate my website url.


## Protips
If you really want to make your site look spectacular:

- Site icon: add the following to the head of your `index.html` page:
`<link rel="favicon-144-precomposed" sizes="144x144" href="<link_to_your_icon>">`

- Site toolbar/status bar color on Android: add the following to the head of your `index.html` page: `<meta name="theme-color" content="<your_color_hex>">`


## Conclusion
I'm glad that I finally got my portfolio and blog up and running. My current solution might not be the best one in the world, but it is automated, maintainable and I can easily add blog posts in the future. Don't hesitate to look at my [GitHub repo](https://github.com/JeroenMols/jeroenmols.github.io) for the full source code. Hopefully the code and my post can help others to setup the same in the future.

Would I use Jekyll again if I would start over? Probably yes.

The only real limitation I ran into was due to the paginator combining the posts from both my portfolio and blog. This caused me to disable Jekyll completely and push the generated site directly to GitHub pages. While this really sucked, using another static site generator would also have forced me to do this (because GitHub only supports Jekyll). Furthermore combining two themes is already quite advanced, and if you stick to just one theme Jekyll is actually very convenient to use.
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-landscapevideocamera" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>LandscapeVideoCamera</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/LandscapeVideoCamera_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=https://github.com/JeroenMols/LandscapeVideoCamera>JMols Mobile</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>December 2014</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.jmolsmobile.landscapevideocapture_sample>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-saecoavanti" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Saeco Avanti Espresso Machine</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/SaecoAvanti_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=http://www.philips.com>Royal Philips</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>September 2014</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.philips.cl.di.saecoavanti>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-lightingpos" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Lighting Point of Sale</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/HuePos_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=http://www.philips.com>Royal Philips</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>July 2014</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.philips.pins.poshue>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-smartair" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Philips Smart Air</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/SmartAir_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=http://www.philips.com>Royal Philips</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>February 2014</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.philips.cl.di.dev.pa>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-eventapp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Event App Platform</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/eventapp_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=>Personal app</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>December 2013</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.jmolsmobile.brittenjeroen>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-tomorrowland" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Tomorrowland Radio</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/Tomorrowland_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=http://www.tomorrowland.com/>Tomorrowland</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>November 2013</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.tomorrowland.tomorrowland>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-airstudio" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>AirStudio+</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/AirStudio_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=http://www.woox.com/en/home>Woox innovations</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>April 2013</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.philips.airstudioplus>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-wifiletransfer" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>Wi-FileTransfer</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/WiFileTransfer_poster.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=http://wi-filetransfer.blogspot.be/>JMols Mobile</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>November 2012</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=https://play.google.com/store/apps/details?id=com.jmols.wi_filetransfer>Google Play</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-videobox" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>VideoBox</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/Videodagboek_onepager.jpg" class="img-responsive img-centered" alt="image-alt">
                            <p></p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=https://be.linkedin.com/pub/jeroen-mols/25/a62/995>JMols Mobile</a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong>June 2010</strong>
                                </li>
                                <li>Download:
                                    <strong><a href=>/</a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-modal modal fade" id="portfolioModal-" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h2>A successful XML naming convention</h2>
                            <hr class="star-primary">
                            <img src="img/portfolio/img/blog/resourcenaming/resourcenaming.png" class="img-responsive img-centered" alt="">
                            <p><p>Managing Android resources in large projects is tedious and grows out of control easily. This lack of XML namespaces frustrates us all, so let&#39;s introduce a simple scheme that will elegantly solve all your pains.</p>

<ul>
<li>easy lookup of any resource (autocomplete)</li>
<li>logical, predictable names</li>
<li>clean ordering of resources</li>
<li>strongly typed resources</li>
</ul>

<p>This blogpost will explain the mechanism and all its advantages. The cheat sheet below provides everything as an easy reference:</p>

<p><center><a href="/img/blog/resourcenaming/resourcenaming_cheatsheet.jpg"><img src="/img/blog/resourcenaming/resourcenaming_cheatsheet.jpg" alt="Resource naming cheat sheet"></a></center></p>

<p><br><br></p>

<h2>Basic principle</h2>

<p>All resource names follow a simple convention, with minor differences between different resource types. (outlined below)</p>

<p><img src="/img/blog/resourcenaming/whatwheredescriptionsize.jpg" alt="what_where_description_size"></p>

<h4>&lt;WHAT&gt;</h4>

<p>Typically a standard Android view class. Limited set of options per resource type (see below). </br> (e.g. MainActivity -&gt; <code>activity</code>)</p>

<h4>&lt;WHERE&gt;</h4>

<p>Describe where it logically belongs in the app. Custom part of Android view subclass or &quot;generic&quot; </br> (e.g. MainActivity -&gt; <code>main</code>)</p>

<h4>&lt;DESCRIPTION&gt;</h4>

<p>Differentiate multiple elements in one screen. </br> (e.g. <code>title</code>)</p>

<h4>&lt;SIZE&gt; (optional)</h4>

<p>Either a precise size or size bucket. Optionally used for drawables and dimensions. </br>  (e.g. <code>24dp</code>, <code>small</code>))</p>

<p><br><br></p>

<h2>Advantages</h2>

<ol>
<li><strong>Ordering of resources by screen</strong> <br>
The <code>WHERE</code> part describes what screen a resource belongs to. Hence it is easy to get all IDs, drawables, dimensions,... for a particular screen.</li>
<li><strong>Strongly typed resource IDs</strong> <br>
For resource IDs, the <code>WHAT</code> describes the class name of the xml element it belongs to. Therefore you always know what class you need to cast your <code>findViewById()</code> calls to.</li>
<li><strong>Better resource organizing</strong> <br>
File browsers/project navigator usually sort files alphabetically. This means layouts and drawables are grouped by their <code>WHAT</code> (activity, fragment,..) and <code>WHERE</code> prefix respectively. A simple Android Studio plugin/feature can now display these resources as if they where in there own folder.</li>
<li><strong>Better autocomplete</strong> <br>
Because resource names are far more predictable, using the IDE&#39;s autocomplete becomes even better. Usually entering the <code>WHAT</code> or <code>WHERE</code> is sufficient to narrow autocomplete down to a limited set of options.</li>
<li><strong>No more name conflicts</strong> <br>
Similar resources in different are either <code>generic</code> or have a different <code>WHERE</code>. A fixed naming scheme avoids all naming collisions.</li>
<li><strong>Cleaner resource names</strong> <br>
Overall all resources will be named more logical, causing a cleaner Android project.</li>
<li><strong>Tools support</strong> <br>
This naming scheme could be easily supported by the Android Studio offering features such as: lint rules to enforce theses names, refactoring support when you change a <code>WHAT</code> or <code>WHERE</code>, better resource visualisation in project view,...</li>
</ol>

<p><br><br></p>

<h2>Layouts</h2>

<p>Layouts are relatively simple, as there is usually only one per screen. Therefore the rule can be simplified to:</p>

<p><img src="/img/blog/resourcenaming/layouts.png" alt="what_where.xml"></p>

<p>Where <code>&lt;WHAT&gt;</code> is one of the following:</p>

<table><thead>
<tr>
<th>Prefix</th>
<th>Usage</th>
</tr>
</thead><tbody>
<tr>
<td>activity</td>
<td>contentview for activity</td>
</tr>
<tr>
<td>fragment</td>
<td>view for a fragment</td>
</tr>
<tr>
<td>view</td>
<td>inflated by a custom view</td>
</tr>
<tr>
<td>item</td>
<td>layout used in list/recycler/gridview</td>
</tr>
<tr>
<td>layout</td>
<td>layout reused using the include tag</td>
</tr>
</tbody></table>

<p>Examples:</p>

<ul>
<li><strong>activity_main</strong>: content view of the MainActivity</li>
<li><strong>fragment_articledetail</strong>: view for the ArticleDetailFragment</li>
<li><strong>view_menu</strong>: layout inflated by custom view class MenuView</li>
<li><strong>item_article</strong>: list item in ArticleRecyclerView</li>
<li><strong>layout_actionbar_backbutton</strong>: layout for an actionbar with a backbutton (too simple to be a customview)</li>
</ul>

<p><br><br></p>

<h2>Strings</h2>

<p>The <code>&lt;WHAT&gt;</code> part for Strings is irrelevant. So either we use <code>&lt;WHERE&gt;</code> to indicate where the string will be used:</p>

<p><img src="/img/blog/resourcenaming/strings.png" alt="where_description.xml"></p>

<p>or <code>generic</code> if the string is reused throughout the app:</p>

<p><img src="/img/blog/resourcenaming/strings2.png" alt="generic_description.xml"></p>

<p>Examples:</p>

<ul>
<li><strong>articledetail_title</strong>: title of ArticleDetailFragment</li>
<li><strong>feedback_namehint</strong>: hint of name field in FeedbackFragment</li>
<li><strong>generic_done</strong>: generic &quot;done&quot; string</li>
</ul>

<p><code>&lt;WHERE&gt;</code> obviously is the same for all resources in the same view.</p>

<p><br><br></p>

<h2>Drawables</h2>

<p>The <code>&lt;WHAT&gt;</code> part for Drawables is irrelevant. So either we use <code>&lt;WHERE&gt;</code> to indicate where the drawable will be used:</p>

<p><img src="/img/blog/resourcenaming/drawables.png" alt="where_description_size.xml"></p>

<p>or <code>generic</code> if the drawable is reused throughout the app:</p>

<p><img src="/img/blog/resourcenaming/drawables2.png" alt="generic_description_size.xml"></p>

<p>Optionally you can add a <code>&lt;SIZE&gt;</code> argument, which can be an actual size &quot;24dp&quot; or a size qualifier &quot;small&quot;.</p>

<p>Examples:</p>

<ul>
<li><strong>articledetail_placeholder</strong>: placeholder in ArticleDetailFragment</li>
<li><strong>generic_infoicon</strong>: generic info icon</li>
<li><strong>generic_infoicon_large</strong>: large version of generic info icon</li>
<li><strong>generic_infoicon_24dp</strong>: 24dp version of generic info icon</li>
</ul>

<p><br><br></p>

<h2>IDs</h2>

<p>For IDs, <code>&lt;WHAT&gt;</code> is the class name of the xml element it belongs to. Next is the screen the id is in, followed by an optional description to distinguish similar elements in one screen.</p>

<p><img src="/img/blog/resourcenaming/ids.png" alt="what_where_description.xml"></p>

<p>Examples:</p>

<ul>
<li><strong>tablayout_main</strong> -&gt; TabLayout in MainActivity</li>
<li><strong>imageview_menu_profile</strong> -&gt; profile image in custom MenuView</li>
<li><strong>textview_articledetail_title</strong> -&gt; title TextView in ArticleDetailFragment</li>
</ul>

<p><br><br></p>

<h2>Dimensions</h2>

<p>Apps should only define a limited set of dimensions, which are constantly reused. This makes most dimensions <code>generic</code> by default.</p>

<p>Therefore you should mostly use:</p>

<p><img src="/img/blog/resourcenaming/dimensions2.png" alt="what_generic_description_size.xml"></p>

<p>and optionally use the screen specific variant:</p>

<p><img src="/img/blog/resourcenaming/dimensions.png" alt="what_where_description_size.xml"></p>

<p>Where <code>&lt;WHAT&gt;</code> is one of the following:</p>

<table><thead>
<tr>
<th>Prefix</th>
<th>Usage</th>
</tr>
</thead><tbody>
<tr>
<td>width</td>
<td>width in dp</td>
</tr>
<tr>
<td>height</td>
<td>height in dp</td>
</tr>
<tr>
<td>size</td>
<td>if width == height</td>
</tr>
<tr>
<td>margin</td>
<td>margin in dp</td>
</tr>
<tr>
<td>padding</td>
<td>padding in dp</td>
</tr>
<tr>
<td>keyline</td>
<td>absolute keyline measured from view edge in dp</td>
</tr>
<tr>
<td>textsize</td>
<td>size of text in sp</td>
</tr>
</tbody></table>

<p>Examples:</p>

<ul>
<li><strong>height_toolbar</strong>: height of all toolbars</li>
<li><strong>keyline_listtext</strong>: listitem text is aligned at this keyline</li>
<li><strong>textsize_medium</strong>: medium size of all text</li>
<li><strong>size_menu_icon</strong>: size of icons in menu</li>
<li><strong>height_menu_profileimage</strong>: height of profile image in menu</li>
</ul>

<p><br><br></p>

<h2>Wrap-up</h2>

<p>That&#39;s it! A clean simple and easy to use resource naming scheme.</p>

<p>I haven&#39;t included assets, nor raw resources as they are very varied and less used. Therefore it doesn&#39;t make much sense to &quot;force&quot; them into one common sheme.</p>

<p>Let me know what you think by contacting me <a href="https://twitter.com/molsjeroen">@molsjeroen</a> on twitter, or leaving a comment below!</p>
</p>

                            <ul class="list-inline item-details">
                                <li>Client:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                                <li>Date:
                                    <strong></strong>
                                </li>
                                <li>Download:
                                    <strong><a href=></a>
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

     <!-- jQuery Version 1.11.0 -->
    <script src="/js/jquery-1.11.0.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="/js/jquery.easing.min.js"></script>
    <script src="/js/classie.js"></script>
    <script src="/js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="/js/jqBootstrapValidation.js"></script>
    
    <script src="/js/contact_me_static.js"></script>
    

    <!-- Custom Theme JavaScript -->
    <script src="/js/freelancer.js"></script>

    </body>
</html>

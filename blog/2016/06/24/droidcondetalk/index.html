<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

	<meta name="theme-color" content="#2c3e50">
  	<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Testing made sweet with a Mockito &middot; Jeroen Mols
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Fonts -->
  <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

  <!-- Icons -->
  <link rel="favicon-144-precomposed" sizes="144x144" href="http://jeroenmols.com/favicon-144-precomposed.png">
                                 <link rel="shortcut icon" href="http://jeroenmols.com/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-63356566-1', 'auto');
  ga('send', 'pageview');

</script>

  	<body class="theme-base-custom">
	    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about sidebar-title">

      <img class="img-responsive" src="/img/profile_round.png" alt="">

      <h1>
        <a class="sidebar-link" href="/blog">
          Jeroen Mols
        </a>
      </h1>

      <ul class="list-inline">
        
          <li>
              <a href="https://twitter.com/molsjeroen" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-twitter"></i></a>
          </li>
        
          <li>
              <a href="https://stackoverflow.com/users/2771851/jmols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-stack-overflow"></i></a>
          </li>
        
          <li>
              <a href="https://github.com/JeroenMols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-github"></i></a>
          </li>
        
          <li>
              <a href="https://be.linkedin.com/pub/jeroen-mols/25/a62/995" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-linkedin"></i></a>
          </li>
        
          <li>
              <a href="https://speakerdeck.com/jeroenmols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-file-pdf-o"></i></a>
          </li>
        
          <li>
              <a href="https://feeds.feedburner.com/JeroenMols" class="btn-social btn-outline" target="blank"><i class="fa fa-fw fa-rss"></i></a>
          </li>
        
      </ul>

      <p class="sidebar-subtitle">Android developer with a great <a class="sidebar-link" href="/">portfolio</a>.</p>
    </div>

    <div class="copyright">
      <p>Copyright &copy; Jeroen Mols 2016</p>
    </div>
  </div>
</div>

	    <div class="content container">
	      	<div class="post">
  <h1 class="post-title">Testing made sweet with a Mockito</h1>
  <span class="post-date">24 Jun 2016</span>

  
   <img src="/img/blog/droidconde16talk/droidcondetalk.png" alt="Testing made sweet with a Mockito">
  

  <p>At Droidcon Berlin 2016 I had a great time talking about testing using the <a href="http://mockito.org/">Mockito</a> framework. While the talk wasn&#39;t recorded unfortunately, the great folks at <a href="https://voicerepublic.com/series/droidcon-berlin-2016">Voice Republic</a> recorded an audio version which you can listen to as a podcast or together with the slides.</p>

<p><br></p>

<h2>Talk</h2>

<script async class="speakerdeck-embed" data-id="061ea326e4b24a3aa961440fd699c481" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

<iframe width="100%" height="32%" src="https://voicerepublic.com/embed/talks/testing-made-sweet-with-a-mockito" frameborder="0" scrolling="no" allowfullscreen></iframe>

<p>The past year has been huge for Android testing: Testing support lib, fast JVM unit tests,... Having such great tools means writing tests is a breeze! All your apps currently have &gt;80% code coverage, right? Yay! Or wait... is it really? Is all your common Android logic (networking, databases,...) tested? Do you isolate parts of your code base to keep your tests small? And what about providing relevant testing data?</p>

<p>In order to achieve this, you need to make use of mocks and stubs. And that&#39;s exactly what this talk will be about: What is a mock? What&#39;s the difference between a mock and a stub? Are mocks the only way to provide relevant data for your unit tests? What do I do with all the final classes/methods in the Android SDK? How do I architect my app to make it easier to test? ...</p>

<p>After having adopted TDD as my main development workflow for almost a year now, I feel comfortable saying everything can be tested. Its just a matter of having someone experience show you how.</p>

<p><br></p>

<h2>Code</h2>

<p>A fully working sample project with all principles is available <a href="https://github.com/JeroenMols/MockitoExample">on Github</a>.</p>

<ul>
<li><a href="https://github.com/JeroenMols/MockitoExample/blob/master/app/build.gradle">build.gradle</a> file indicating how to configure Mockito

<ul>
<li>testCompile: for tests run on your computer in a JVM (src/test folder)</li>
<li>androidTestCompile: for tests run on an Android device (src/androidTest folder)</li>
</ul></li>
<li><a href="https://github.com/JeroenMols/MockitoExample/blob/master/app/src/test/java/com/jeroenmols/mockitoexample/UserTest.java">UserTest</a> class demonstrating Mockito usage

<ul>
<li>TLDR: JVM unit tests with mockito are easy to read and write</li>
</ul></li>
<li><a href="https://github.com/JeroenMols/MockitoExample/blob/master/app/src/androidTest/java/com/jeroenmols/mockitoexample/UserTestAndroid.java">UserTestAndroid</a> class demonstrating Mockito usage on Android device

<ul>
<li>TLDR: Mockito can be used on Android, but need to use V1 and dexmaker</li>
</ul></li>
<li><a href="https://github.com/JeroenMols/MockitoExample/blob/master/app/src/main/java/com/jeroenmols/mockitoexample/HandlerWrapper.java">HandlerWrapper</a> class indicating how to test final methods

<ul>
<li>TLDR: Wrap final or statics methods with a different non static/final method</li>
</ul></li>
<li><a href="https://github.com/JeroenMols/MockitoExample/blob/master/app/src/test/java/com/jeroenmols/mockitoexample/TestUserData.java">TestUserData</a> class indicating how to provide testing data for POJO objects

<ul>
<li>TLDR: Override all methods with default values instead of creating a mock and stubbing them out</li>
</ul></li>
</ul>

<p><br></p>

<h2>Audience</h2>

<p><center><a href="/img/blog/droidconde16talk/audience.jpg"><img src="/img/blog/droidconde16talk/audience.jpg" alt="Quite some people interested in my talk"></a></center></p>


  <div class="social-follow">
    <a href="https://twitter.com/intent/user?screen_name=molsjeroen" rel="nofollow" class="twitter">
      <i class="fa fa-twitter"></i><span id="social-span"> Follow @molsjeroen</span>
    </a>
</div>

</div>

<div class="social-share">
  <h2>Share on</h2>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=Testing made sweet with a Mockito&url=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/&via=molsjeroen&related=molsjeroen&hashtags=androiddev"
        onclick="window.open(
              'https://twitter.com/intent/tweet?text=Testing made sweet with a Mockito&url=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/&via=molsjeroen&related=molsjeroen&hashtags=androiddev'
          ,'popup','width=600,height=600'); return false;" class="twitter" title="Share on Twitter" rel="nofollow" target="popup">
          <i class="fa fa-twitter"></i><span id="social-span"> Twitter</span>
      </a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/"
        onclick="window.open(
              'https://www.facebook.com/sharer/sharer.php?u=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/'
          ,'popup','width=600,height=600'); return false;" class="facebook" title="Share on Facebook" rel="nofollow" target="popup">
          <i class="fa fa-facebook"></i><span id="social-span"> Facebook</span></a>
      </a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/"
        onclick="window.open(
              'https://plus.google.com/share?url=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/'
          ,'popup','width=600,height=600'); return false;" class="google-plus" title="Share on Google Plus" rel="nofollow" target="popup">
          <i class="fa fa-google-plus"></i><span id="social-span"> Google+</span></a>
      </a>
    </li>
    <!-- <li>
      <a href="http://www.linkedin.com/shareArticle?mini=true&url=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/&title=Testing made sweet with a Mockito&summary=&source=http://jeroenmols.com"
        onclick="window.open(
              'http://www.linkedin.com/shareArticle?mini=true&url=http://jeroenmols.com/blog/2016/06/24/droidcondetalk/&title=Testing made sweet with a Mockito&summary=&source=http://jeroenmols.com'
          ,'popup','width=600,height=600'); return false;" class="linkedin" title="Share on Google Plus" rel="nofollow" target="popup">
          <i class="fa fa-linkedin"></i><span id="social-span"> Linkedin</span></a>
      </a>
    </li> -->
  </ul>
</br></br>
</div><!-- /.social-share -->


<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- bottom-blog-responsive -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-9854541518226004"
     data-ad-slot="4086741379"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



<h2>Comments</h2>
<section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'jeroenmols';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>


<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      
        <li>
          <h3>
            <a href="/blog/2016/10/31/mockitomatchers/">
              Extending Mockito
              <small>31 Oct 2016</small>
            </a>
          </h3>
        </li>
      
    
      
        <li>
          <h3>
            <a href="/blog/2016/09/01/coveragecost/">
              The hidden cost of code coverage
              <small>01 Sep 2016</small>
            </a>
          </h3>
        </li>
      
    
      
        <li>
          <h3>
            <a href="/blog/2016/08/03/copyright/">
              Why you should care about copyright
              <small>03 Aug 2016</small>
            </a>
          </h3>
        </li>
      
    
  </ul>
</div>

	    </div>
  	</body>
</html>
